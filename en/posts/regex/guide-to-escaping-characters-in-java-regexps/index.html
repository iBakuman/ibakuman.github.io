
<!DOCTYPE html>
<html lang="en-us" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='Overview The regular expressions API in Java, java.util.regex is widely used for pattern matching. To discover more, you can follow this article. In this article, we will focus on escaping characters withing a regular expression and show how it can be done in Java. Special RegExp Characters According to the Java regular expressions API documentation, there is a set of special characters also known as metacharacters present in a regular'>
<title>Guide to Escaping Characters in Java RegExps</title><link rel='canonical' href='https://ibakuman.github.io/en/posts/regex/guide-to-escaping-characters-in-java-regexps/'><link rel="prev" href="https://ibakuman.github.io/en/posts/regex/a-guide-to-java-regular-expressions-api/" /><link rel="next" href="https://ibakuman.github.io/en/posts/regex/how-to-use-regular-expressions-to-replace-tokens-in-strings-in-java/" /><link rel="stylesheet" href="/css/style.min.2dbe6aa63c3db4336151571f1f586e464d373413c7924a1e8fefc1ade77ce12f.css" integrity="sha256-Lb5qpjw9tDNhUVcfH1huRk03NBPHkkoej+/Bred84S8="><link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css"></noscript><link rel="preload" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"></noscript><meta property='og:title' content='Guide to Escaping Characters in Java RegExps'>
<meta property='og:description' content='Overview The regular expressions API in Java, java.util.regex is widely used for pattern matching. To discover more, you can follow this article. In this article, we will focus on escaping characters withing a regular expression and show how it can be done in Java. Special RegExp Characters According to the Java regular expressions API documentation, there is a set of special characters also known as metacharacters present in a regular'>
<meta property='og:url' content='https://ibakuman.github.io/en/posts/regex/guide-to-escaping-characters-in-java-regexps/'>
<meta property='og:site_name' content='iBakuman&#39;s Blog'>
<meta property='og:type' content='article'><meta property='article:section' content='Posts' /><meta property='article:published_time' content='2022-11-12T12:12:29&#43;08:00'/><meta property='article:modified_time' content='2022-11-12T12:12:29&#43;08:00'/><meta property='og:image' content='https://ibakuman.github.io/img/default.png' />
<meta name="twitter:title" content="Guide to Escaping Characters in Java RegExps">
<meta name="twitter:description" content="Overview The regular expressions API in Java, java.util.regex is widely used for pattern matching. To discover more, you can follow this article. In this article, we will focus on escaping characters withing a regular expression and show how it can be done in Java. Special RegExp Characters According to the Java regular expressions API documentation, there is a set of special characters also known as metacharacters present in a regular"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://ibakuman.github.io/img/default.png' /><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">

    </head>
    <body class="article-page"><script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            localStorage.setItem(colorSchemeKey, "dark");
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/en/">
                
                    

                    
                        
                        <img src="/img/avatar_hu607d9502653a863721bf402ab13c6bbf_56312_300x0_resize_box_3.png" width="300"
                            height="285" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">♈</span>
                
            </figure>
            
        

        <div class="site-meta">
            <h1 class="site-name"><a href="/en">iBakuman&#39;s Blog</a></h1>
            <h2 class="site-description">I am because you are.</h2>
        </div>
    </header><ol class="social-menu">
            
                <li>
                    <a
                        href='https://github.com/ibakuman'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a
                        href='https://twitter.com'
                        target="_blank"
                        title="Twitter"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
            <li >
                <a href='/en/about/' >
                    
                    
                    
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                    
                    <span>About</span>
                </a>
            </li>
        
        
            <li >
                <a href='/en/archives/' >
                    
                    
                    
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                    
                    <span>Archives</span>
                </a>
            </li>
        
        
            <li >
                <a href='/en/search/' >
                    
                    
                    
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                    
                    <span>Search</span>
                </a>
            </li>
        
        
            <li >
                <a href='/en/links/' >
                    
                    
                    
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                    
                    <span>Links</span>
                </a>
            </li>
        

        <div class="menu-bottom-section">
                <li id="i18n-switch">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 5h7" />
  <path d="M9 3v2c0 4.418 -2.239 8 -5 8" />
  <path d="M5 9c-.003 2.144 2.952 3.908 6.7 4" />
  <path d="M12 20l4 -9l4 9" />
  <path d="M19.1 18h-6.2" />
</svg>



                    <select name="language" onchange="window.location.href = this.selectedOptions[0].value">
                        
                            <option value="https://ibakuman.github.io/" >中文</option>
                        
                            <option value="https://ibakuman.github.io/en/" selected>English</option>
                        
                    </select>
                </li>
            

            
        </div>
    </ol>
</aside>
<main class="main full-width">
    <article class="main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/en/posts/regex/guide-to-escaping-characters-in-java-regexps/">
                <img src="/gallery/landscape/09_hu8c633d2cf76ab6635d2135cc8fe71c52_994828_800x0_resize_q75_box.jpg"
                        srcset="/gallery/landscape/09_hu8c633d2cf76ab6635d2135cc8fe71c52_994828_800x0_resize_q75_box.jpg 800w, /gallery/landscape/09_hu8c633d2cf76ab6635d2135cc8fe71c52_994828_1600x0_resize_q75_box.jpg 1600w"
                        width="800"
                        height="450"
                        loading="lazy"
                        alt="Featured image of post Guide to Escaping Characters in Java RegExps" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/en/categories/regex/" >
                Regex
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h1 class="article-title">
            <a href="/en/posts/regex/guide-to-escaping-characters-in-java-regexps/">Guide to Escaping Characters in Java RegExps</a>
        </h1>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Nov 12, 2022</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    4 minute read
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>


    <section class="article-content  auto-numbering ">
    
    
    <h2 id="overviewhttpswwwbaeldungcomjava-regexp-escape-charoverview"><a class="link" href="https://www.baeldung.com/java-regexp-escape-char#overview"  target="_blank" rel="noopener"
    >Overview</a></h2>
<p>The regular expressions API in Java, <em>java.util.regex</em> is widely used for pattern matching. To discover more, you can follow this <a class="link" href="https://www.baeldung.com/regular-expressions-java"  target="_blank" rel="noopener"
    >article</a>.</p>
<p>In this article, we will focus on escaping characters withing a regular expression and show how it can be done in Java.</p>
<h2 id="special-regexp-charactershttpswwwbaeldungcomjava-regexp-escape-charspecial-regexp-characters"><a class="link" href="https://www.baeldung.com/java-regexp-escape-char#special-regexp-characters"  target="_blank" rel="noopener"
    >Special RegExp Characters</a></h2>
<p>According to the Java regular expressions API documentation, there is a set of special characters also known as metacharacters present in a regular expression.</p>
<p>When we want to allow the characters as is instead of interpreting them with their special meanings, we need to escape them. By escaping these characters, we force them to be treated as ordinary characters when matching a string with a given regular expression.</p>
<blockquote>
<p>当我们想让这些字符保持原样而不是用它们的特殊含义来解释它们时，我们需要转义它们。通过转义这些字符，在用给定的正则表达式匹配字符串时，我们强制将它们作为普通字符处理。</p>
</blockquote>
<p>The metacharacters that we usually need to escape <span class='ibakuman-inline-translation'>in this manner<sub> { 以这种方式 }</sub></span> are: <code>&lt;([{\^-=$!|]})?*+.&gt;</code></p>
<p>Let&rsquo;s look at a simple code example where we match an input <em>String</em> with a pattern expressed in a regular expression.</p>
<p>This test shows that for a given input string <em>foof</em> when the pattern <em>foo</em>. (<em>foo</em> ending with a dot character) is matched, it returns a value of <em>true</em> which indicates that the match is successful.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">givenRegexWithDot_whenMatchingStr_thenMatches</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">String</span> <span class="n">strInput</span> <span class="o">=</span> <span class="s">&#34;foof&#34;</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">String</span> <span class="n">strRegex</span> <span class="o">=</span> <span class="s">&#34;foo.&#34;</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">      
</span></span><span class="line"><span class="cl">    <span class="n">assertEquals</span><span class="o">(</span><span class="kc">true</span><span class="o">,</span> <span class="n">strInput</span><span class="o">.</span><span class="na">matches</span><span class="o">(</span><span class="n">strRegex</span><span class="o">));</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>You may wonder why is the match successful when there is no dot (.) character present in the input <em>String?</em></p>
<p>The answer is simple. The dot (.) is a metacharacter – the special significance of dot here is that there can be ‘any character&rsquo; in its place. Therefore, it&rsquo;s clear how the matcher determined that a match is found.</p>
<p>Let&rsquo;s say that we do not want to treat the dot (.) character with its unique meaning. Instead, we want it to be interpreted as a dot sign. This means that in the previous example, we do not want to let the pattern <em>foo.</em> to have a match in the input <em>String.</em></p>
<p>How would we handle a situation like this? The answer is: <strong>we need to escape the dot (.) character so that its special meaning gets ignored.</strong></p>
<p><span class='ibakuman-inline-translation'>Let&rsquo;s dig into it in more detail in the next section.<sub> { 让我们在下一节中更详细地研究它。 }</sub></span></p>
<h2 id="escaping-charactershttpswwwbaeldungcomjava-regexp-escape-charescaping-characters"><a class="link" href="https://www.baeldung.com/java-regexp-escape-char#escaping-characters"  target="_blank" rel="noopener"
    >Escaping Characters</a></h2>
<p>According to the Java API documentation for regular expressions, there are two ways in which we can escape characters that have special meaning. In other words, to force them to be treated as ordinary characters.</p>
<p>Let&rsquo;s see what they are:</p>
<ol>
<li>Precede a metacharacter with a backslash (\)</li>
<li>Enclose a metacharacter with <em>\Q</em> and <em>\E</em></li>
</ol>
<p>This just means that in the example we saw earlier, if we want to escape the dot character, we need to put a backslash character before the dot character. Alternatively, we can place the dot character in between \Q and \E.</p>
<h3 id="escaping-using-backslashhttpswwwbaeldungcomjava-regexp-escape-char1-escaping-using-backslash"><a class="link" href="https://www.baeldung.com/java-regexp-escape-char#1-escaping-using-backslash"  target="_blank" rel="noopener"
    >Escaping Using Backslash</a></h3>
<p>This is one of the techniques that we can use to escape metacharacters in a regular expression. However, we know that the backslash character is an escape character in Java <em>String</em> literals as well. Therefore, we need to double the backslash character when using it to precede any character (including the \ character itself).</p>
<p>Hence in our example, we need to change the regular expression as shown in this test:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">givenRegexWithDotEsc_whenMatchingStr_thenNotMatching</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">String</span> <span class="n">strInput</span> <span class="o">=</span> <span class="s">&#34;foof&#34;</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">String</span> <span class="n">strRegex</span> <span class="o">=</span> <span class="s">&#34;foo\\.&#34;</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">assertEquals</span><span class="o">(</span><span class="kc">false</span><span class="o">,</span> <span class="n">strInput</span><span class="o">.</span><span class="na">matches</span><span class="o">(</span><span class="n">strRegex</span><span class="o">));</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Here, the dot character is escaped, so the matcher simply treats it as a dot and tries to find a pattern that ends with the dot (i.e. <em>foo.</em>).</p>
<p>In this case, it returns <em>false</em> since there is no match in the input <em>String</em> for that pattern.</p>
<h3 id="escaping-using-q--ehttpswwwbaeldungcomjava-regexp-escape-char2-escaping-using-q-amp-e"><a class="link" href="https://www.baeldung.com/java-regexp-escape-char#2-escaping-using-q-amp-e"  target="_blank" rel="noopener"
    >Escaping Using \Q &amp; \E</a></h3>
<p><span class='ibakuman-inline-translation'>Alternatively<sub> { used for making another suggestion }</sub></span>, we can use <em>\Q</em> and <em>\E</em> to escape the special character. <em>\Q</em> indicates that all characters up to <em>\E</em> needs to be escaped and <em>\E</em> means we need to end the escaping that was started with <em>\Q</em>.</p>
<p>This just means that <span class='ibakuman-inline-translation'>whatever<sub> { 任何；不管什么 }</sub></span> is in between <em>\Q</em> and <em>\E</em> would be escaped.</p>
<p>In the test shown here, the <em>split()</em> of the <em>String</em> class does a match using the regular expression provided to it.</p>
<p>Our requirement is to split the input string by the pipe (|) character into words. Therefore, we use a regular expression pattern to do so.</p>
<p>The pipe character is a metacharacter that needs to be escaped in the regular expression.</p>
<p>Here, the escaping is done by placing the pipe character between <em>\Q</em> and <em>\E</em>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">givenRegexWithPipeEscaped_whenSplitStr_thenSplits</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">String</span> <span class="n">strInput</span> <span class="o">=</span> <span class="s">&#34;foo|bar|hello|world&#34;</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">String</span> <span class="n">strRegex</span> <span class="o">=</span> <span class="s">&#34;\\Q|\\E&#34;</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="n">assertEquals</span><span class="o">(</span><span class="mi">4</span><span class="o">,</span> <span class="n">strInput</span><span class="o">.</span><span class="na">split</span><span class="o">(</span><span class="n">strRegex</span><span class="o">).</span><span class="na">length</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="the-_patternquotestring_-s-methodhttpswwwbaeldungcomjava-regexp-escape-charthe-patternquotestring-s-method"><a class="link" href="https://www.baeldung.com/java-regexp-escape-char#the-patternquotestring-s-method"  target="_blank" rel="noopener"
    >The <em>Pattern.quote(String</em> S) Method</a></h2>
<p>The Pattern.Quote(String S) Method in <em>java.util.regex.Pattern</em> class converts a given regular expression pattern <em>String</em> into a literal pattern <em>String.</em> This means that all metacharacters in the input <em>String</em> are treated as ordinary characters.</p>
<p>Using this method would be a more convenient alternative than using <em>\Q</em> &amp; <em>\E</em> as it wraps the given <em>String</em> with them.</p>
<p>Let&rsquo;s see this method in action:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">givenRegexWithPipeEscQuoteMeth_whenSplitStr_thenSplits</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">String</span> <span class="n">strInput</span> <span class="o">=</span> <span class="s">&#34;foo|bar|hello|world&#34;</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">String</span> <span class="n">strRegex</span> <span class="o">=</span> <span class="s">&#34;|&#34;</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">assertEquals</span><span class="o">(</span><span class="mi">4</span><span class="o">,</span><span class="n">strInput</span><span class="o">.</span><span class="na">split</span><span class="o">(</span><span class="n">Pattern</span><span class="o">.</span><span class="na">quote</span><span class="o">(</span><span class="n">strRegex</span><span class="o">)).</span><span class="na">length</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>In this quick test, the <em>Pattern.quote()</em> method is used to escape the given regex pattern and transform it into a <em>String</em> literal. In other words, it escapes all the metacharacters present in the regex pattern for us. It is doing a similar job to <em>\Q</em> &amp; <em>\E</em>.</p>
<p>The pipe character is escaped by the <em>Pattern.quote()</em> method and the <em>split()</em> interprets it as a <em>String</em> literal by which it <span class='ibakuman-inline-translation'>divides<sub> { 划分 }</sub></span> the input.</p>
<p>As we can see, this is a much cleaner approach and also the developers do not have to remember all the escape sequences.</p>
<p><strong>We should note that <em>Pattern.quote</em> encloses the whole block with a single escape sequence. If we wanted to escape characters individually, we would need to use a <a class="link" href="https://www.baeldung.com/java-regex-token-replacement"  target="_blank" rel="noopener"
    >token replacement algorithm</a>.</strong></p>
<h2 id="additional-exampleshttpswwwbaeldungcomjava-regexp-escape-charadditional-examples"><a class="link" href="https://www.baeldung.com/java-regexp-escape-char#additional-examples"  target="_blank" rel="noopener"
    >Additional Examples</a></h2>
<p>Let&rsquo;s look at how the <em>replaceAll()</em> method of <em>java.util.regex.Matcher</em> works.</p>
<p>If we need to replace all occurrences of a given character <em>String</em> with another, we can use this method by passing a regular expression to it.</p>
<p>Imagine we have an input with multiple occurrences of the <code>$</code> character. The result we want to get is the same string with the <code>$</code> character replaced by £.</p>
<p>This test demonstrates how the pattern <code>$</code> is passed without being escaped:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">givenRegexWithDollar_whenReplacing_thenNotReplace</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">    <span class="n">String</span> <span class="n">strInput</span> <span class="o">=</span> <span class="s">&#34;I gave $50 to my brother.&#34;</span>
</span></span><span class="line"><span class="cl">      <span class="o">+</span> <span class="s">&#34;He bought candy for $35. Now he has $15 left.&#34;</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">String</span> <span class="n">strRegex</span> <span class="o">=</span> <span class="s">&#34;$&#34;</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">String</span> <span class="n">strReplacement</span> <span class="o">=</span> <span class="s">&#34;£&#34;</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">String</span> <span class="n">output</span> <span class="o">=</span> <span class="s">&#34;I gave £50 to my brother.&#34;</span>
</span></span><span class="line"><span class="cl">      <span class="o">+</span> <span class="s">&#34;He bought candy for £35. Now he has £15 left.&#34;</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="n">Pattern</span> <span class="n">p</span> <span class="o">=</span> <span class="n">Pattern</span><span class="o">.</span><span class="na">compile</span><span class="o">(</span><span class="n">strRegex</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">Matcher</span> <span class="n">m</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="na">matcher</span><span class="o">(</span><span class="n">strInput</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">    <span class="n">assertThat</span><span class="o">(</span><span class="n">output</span><span class="o">,</span> <span class="n">not</span><span class="o">(</span><span class="n">equalTo</span><span class="o">(</span><span class="n">m</span><span class="o">.</span><span class="na">replaceAll</span><span class="o">(</span><span class="n">strReplacement</span><span class="o">))));</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>The test asserts that <code>$</code> is not correctly replaced by <em>£</em>.</p>
<p>Now if we escape the regex pattern, the replacing happens correctly, and the test passes as shown in this code snippet:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">givenRegexWithDollarEsc_whenReplacing_thenReplace</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">    <span class="n">String</span> <span class="n">strInput</span> <span class="o">=</span> <span class="s">&#34;I gave $50 to my brother.&#34;</span>
</span></span><span class="line"><span class="cl">      <span class="o">+</span> <span class="s">&#34;He bought candy for $35. Now he has $15 left.&#34;</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">String</span> <span class="n">strRegex</span> <span class="o">=</span> <span class="s">&#34;\\$&#34;</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">String</span> <span class="n">strReplacement</span> <span class="o">=</span> <span class="s">&#34;£&#34;</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">String</span> <span class="n">output</span> <span class="o">=</span> <span class="s">&#34;I gave £50 to my brother.&#34;</span>
</span></span><span class="line"><span class="cl">      <span class="o">+</span> <span class="s">&#34;He bought candy for £35. Now he has £15 left.&#34;</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">Pattern</span> <span class="n">p</span> <span class="o">=</span> <span class="n">Pattern</span><span class="o">.</span><span class="na">compile</span><span class="o">(</span><span class="n">strRegex</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">Matcher</span> <span class="n">m</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="na">matcher</span><span class="o">(</span><span class="n">strInput</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="n">assertEquals</span><span class="o">(</span><span class="n">output</span><span class="o">,</span><span class="n">m</span><span class="o">.</span><span class="na">replaceAll</span><span class="o">(</span><span class="n">strReplacement</span><span class="o">));</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Note the <code>\\$</code> here, which does the <span class='ibakuman-inline-translation'>trick<sub> { 技巧；诡计；诀窍；把戏 }</sub></span> by escaping the <code>$</code> character and successfully matching the pattern.</p>
<h2 id="conclusionhttpswwwbaeldungcomjava-regexp-escape-charconclusion"><a class="link" href="https://www.baeldung.com/java-regexp-escape-char#conclusion"  target="_blank" rel="noopener"
    >Conclusion</a></h2>
<p>In this article, we looked at escaping characters in regular expressions in Java.</p>
<p><span class='ibakuman-inline-translation'>We discussed why regular expressions need to be escaped, and the different ways in which it can be achieved.<sub> { 我们讨论了为什么正则表达式需要转义，以及实现转义的不同方法。 }</sub></span></p>
<p><span class='ibakuman-inline-translation'>As always<sub> { 一如既往 }</sub></span> , the source code related to this article can be found <a class="link" href="https://github.com/eugenp/tutorials/tree/master/core-java-modules/core-java-regex"  target="_blank" rel="noopener"
    >over on GitHub</a></p>
<h2 id="references">References</h2>
<p><a class="link" href="https://www.baeldung.com/java-regexp-escape-char"  target="_blank" rel="noopener"
    >Guide to Escaping Characters in Java RegExps</a></p>

</section>


    <footer class="article-footer">
    

    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>

</article>


    

    

    <aside class="related-content--wrapper">
        <h2 class="section-title">Related content</h2>
        <div class="related-content">
            <div class="flex article-list--tile">
                
                    
<article class="has-image">
    <a href="/en/posts/regex/lookahead-and-lookbehind/">

        
            <div class="article-image">
                <img src="/gallery/landscape/12.96e632c8bb9f772b420717529453088f_hudcb57a36f165de723463bb2c9342c95a_1835608_250x150_fill_q75_box_smart1.jpg"
                        width="250"
                        height="150"
                        loading="lazy"
                        alt="Featured image of post 正则表达式的先行断言 (lookahead) 和后行断言 (lookbehind)"
                        
                        data-hash="md5-luYyyLufdytCBxdSlFMIjw==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">正则表达式的先行断言 (lookahead) 和后行断言 (lookbehind)</h2>
        </div>
    </a>
</article>

                
                    
<article class="has-image">
    <a href="/en/posts/regex/how-to-use-regular-expressions-to-replace-tokens-in-strings-in-java/">

        
            <div class="article-image">
                <img src="/gallery/landscape/07.f853836a7f7a0b03d0899dd0429a5f0d_hu38aa638bb2ccd6db7051157dcdf19c8f_1416034_250x150_fill_q75_box_smart1.jpg"
                        width="250"
                        height="150"
                        loading="lazy"
                        alt="Featured image of post How to Use Regular Expressions to Replace Tokens in Strings in Java"
                        
                        data-hash="md5-&#43;FODan96CwPQiZ3QQppfDQ==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">How to Use Regular Expressions to Replace Tokens in Strings in Java</h2>
        </div>
    </a>
</article>

                
                    
<article class="has-image">
    <a href="/en/posts/regex/a-guide-to-java-regular-expressions-api/">

        
            <div class="article-image">
                <img src="/gallery/landscape/15.06c3dbd93982e483daa78dd72cef19b1_hu9990e0c65ada11c3249979cb281e5728_1046110_250x150_fill_q75_box_smart1.jpg"
                        width="250"
                        height="150"
                        loading="lazy"
                        alt="Featured image of post A Guide To Java Regular Expressions API"
                        
                        data-hash="md5-BsPb2TmC5IPap43XLO8ZsQ==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">A Guide To Java Regular Expressions API</h2>
        </div>
    </a>
</article>

                
            </div>
        </div>
    </aside>


    
        
    <div class="disqus-container">
    <div id="disqus_thread"></div>
<script type="application/javascript">
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "hugo-theme-stack" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

<style>
    .disqus-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
    }
</style>

<script>
    window.addEventListener('onThemeModeChange', (e) => {
        if (typeof DISQUS == 'object') {
            DISQUS.reset({
                reload: true
            });
        }
    })
</script>


    
                <footer class="site-footer"><section class="copyright">
        &copy;
        
            2021 -
        
        2023 iBakuman&#39;s Blog
    </section>

    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.16.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>

            </main>
    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">Table of contents</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#overviewhttpswwwbaeldungcomjava-regexp-escape-charoverview"><a href="https://www.baeldung.com/java-regexp-escape-char#overview">Overview</a></a></li>
    <li><a href="#special-regexp-charactershttpswwwbaeldungcomjava-regexp-escape-charspecial-regexp-characters"><a href="https://www.baeldung.com/java-regexp-escape-char#special-regexp-characters">Special RegExp Characters</a></a></li>
    <li><a href="#escaping-charactershttpswwwbaeldungcomjava-regexp-escape-charescaping-characters"><a href="https://www.baeldung.com/java-regexp-escape-char#escaping-characters">Escaping Characters</a></a>
      <ol>
        <li><a href="#escaping-using-backslashhttpswwwbaeldungcomjava-regexp-escape-char1-escaping-using-backslash"><a href="https://www.baeldung.com/java-regexp-escape-char#1-escaping-using-backslash">Escaping Using Backslash</a></a></li>
        <li><a href="#escaping-using-q--ehttpswwwbaeldungcomjava-regexp-escape-char2-escaping-using-q-amp-e"><a href="https://www.baeldung.com/java-regexp-escape-char#2-escaping-using-q-amp-e">Escaping Using \Q &amp; \E</a></a></li>
      </ol>
    </li>
    <li><a href="#the-_patternquotestring_-s-methodhttpswwwbaeldungcomjava-regexp-escape-charthe-patternquotestring-s-method"><a href="https://www.baeldung.com/java-regexp-escape-char#the-patternquotestring-s-method">The <em>Pattern.quote(String</em> S) Method</a></a></li>
    <li><a href="#additional-exampleshttpswwwbaeldungcomjava-regexp-escape-charadditional-examples"><a href="https://www.baeldung.com/java-regexp-escape-char#additional-examples">Additional Examples</a></a></li>
    <li><a href="#conclusionhttpswwwbaeldungcomjava-regexp-escape-charconclusion"><a href="https://www.baeldung.com/java-regexp-escape-char#conclusion">Conclusion</a></a></li>
    <li><a href="#references">References</a></li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <div class="fixed-buttons"><a href="#" class="fixed-buttons__back-to-top" class="fixed-button" title="">
                    <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
                </a><a href="#" id="fixed-buttons__view-comments" class="fixed-button" title="">
                    <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
                </a>
            </div>
        </div>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.css"><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/ribbon.js@1.0.2/dist/ribbon.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.js"></script><script type="text/javascript">window.themeConfig={"code":{"copyTitle":"Copy to clipboard"},"folding":{"maxShownLines":40}};</script><script type="text/javascript" src="/ts/main.min.3a18546ecb79abf74f4b27df66faadb0bb2e74b596d89f228e44cda88aa926fb.js" integrity="sha256-OhhUbst5q/dPSyffZvqtsLsudLWW2J8ijkTNqIqpJvs="></script>
    </body>
</html>
