(()=>{var s,o,i,r,d,u,h,a=(e,t,n)=>new Promise((s,o)=>{var a=e=>{try{i(n.next(e))}catch(e){o(e)}},r=e=>{try{i(n.throw(e))}catch(e){o(e)}},i=e=>e.done?s(e.value):Promise.resolve(e.value).then(a,r);i((n=n.apply(e,t)).next())}),e=class{static forEach(e,t){e=e||[];for(let n=0;n<e.length;n++)t(e[n])}static getScrollTop(){return document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop}static isMobile(){return window.matchMedia("only screen and (max-width: 680px)").matches}static isTocStatic(){return window.matchMedia("only screen and (max-width: 960px)").matches}static animateCSS(e,t,n=!1,s){Array.isArray(t)||(t=[t]),e.classList.add("animate__animated",...t);const o=()=>{e.classList.remove("animate__animated",...t),e.removeEventListener("animationend",o),typeof s=="function"&&s()};n||e.addEventListener("animationend",o,!1)}},p=class{init(){e.forEach(document.getElementsByClassName("details"),e=>{const t=e.getElementsByClassName("details-summary")[0];t.addEventListener("click",()=>{e.classList.toggle("open")},!1)})}},f=class{constructor(e){this._config=e}init(){this.initHighlight(),this.createTableWrapper()}initHighlight(){e.forEach(document.querySelectorAll(".article-content > .highlight > .chroma"),t=>{const n=t.querySelectorAll("pre.chroma > code");if(n.length){const r=n[n.length-1],o=document.createElement("div");o.className="ibakuman-toolbar "+r.className.toLowerCase();const i=document.createElement("span");i.classList.add("ibakuman-toolbar__toggle-open"),i.insertAdjacentHTML("afterbegin",'<i class="arrow fas fa-chevron-left fa-fw" aria-hidden="true"></i>'),i.addEventListener("click",()=>{t.classList.toggle("open")},!1),o.appendChild(i);const a=document.createElement("span");a.insertAdjacentHTML("afterbegin",'<i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i>'),a.classList.add("ibakuman-toolbar__ellipses"),a.addEventListener("click",()=>{t.classList.add("open")},!1),o.appendChild(a);const s=document.createElement("span");s.insertAdjacentHTML("afterbegin",'<i class="far fa-copy fa-fw" aria-hidden="true"></i>'),s.classList.add("ibakuman-toolbar__copy");const c=r.innerText;if((this._config.folding.maxShownLines<0||c.split(`
`).length<this._config.folding.maxShownLines+2)&&t.classList.add("open"),this._config.code.copyTitle){s.setAttribute("data-clipboard-text",c),s.title=this._config.code.copyTitle;const t=new window.ClipboardJS(s);new Object,t.on("success",t=>{e.animateCSS(r,["animate__flash"])}),o.appendChild(s)}t.insertBefore(o,t.firstChild)}})}createTableWrapper(){e.forEach(document.querySelectorAll(".article-content > .highlight table"),e=>{const t=document.createElement("div");t.className="table-wrapper",e.parentElement.replaceChild(t,e),t.appendChild(e)})}},b=class{constructor(e,t){this._storage=e,this.config=t}init(){window.echarts&&this.config.echarts&&this._storage&&(window.echarts.registerTheme("dark",this.config.echarts.darkTheme),window.echarts.registerTheme("light",this.config.echarts.lightTheme),e.forEach(document.querySelectorAll(".echarts"),e=>{const t=window.echarts.init(e,this._storage.isDark()?"dark":"light",{renderer:"svg"});t.setOption(JSON.parse(this.config.echarts.data[e.id]))}))}},m=class{init(){const e=document.getElementById("toggle-menu");e&&e.addEventListener("click",()=>{if(document.getElementById("main-menu").classList.contains("transiting"))return;document.body.classList.toggle("show-menu"),this.slideToggle(document.getElementById("main-menu"),300),e.classList.toggle("is-active")})}slideToggle(e,t=500){return window.getComputedStyle(e).display==="none"?this.slideDown(e,t):this.slideUp(e,t)}slideUp(e,t=500){e.classList.add("transiting"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height="0",e.style.paddingTop="0",e.style.paddingBottom="0",e.style.marginTop="0",e.style.marginBottom="0",window.setTimeout(()=>{e.classList.remove("show"),e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("transiting")},t)}slideDown(e,t=500){e.classList.add("transiting"),e.style.removeProperty("display"),e.classList.add("show");let n=e.offsetHeight;e.style.overflow="hidden",e.style.height="0",e.style.paddingTop="0",e.style.paddingBottom="0",e.style.marginTop="0",e.style.marginBottom="0",e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=n+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("transiting")},t)}},n=class{constructor(e,t=1){if(this.items=[],window.PhotoSwipe==void 0||window.PhotoSwipeUI_Default==void 0)return;this.galleryUID=t,n.createGallery(e),this.loadItems(e),this.bindClick()}loadItems(e){this.items=[];const t=e.querySelectorAll("figure.gallery-image");for(const n of t){const s=n.querySelector("figcaption"),e=n.querySelector("img");let o={w:parseInt(e.getAttribute("width")),h:parseInt(e.getAttribute("height")),src:e.src,msrc:e.getAttribute("data-thumb")||e.src,el:n};s&&(o.title=s.innerHTML),this.items.push(o)}}static createGallery(e){const s=e.querySelectorAll("img.gallery-image");for(const t of Array.from(s)){const o=t.closest("p");if(!o||!e.contains(o))continue;o.textContent.trim()==""&&o.classList.add("no-text");let r=o.classList.contains("no-text");if(!r)continue;const a=t.parentElement.tagName=="A";let i=t;const n=document.createElement("figure");if(n.style.setProperty("flex-grow",t.getAttribute("data-flex-grow")||"1"),n.style.setProperty("flex-basis",t.getAttribute("data-flex-basis")||"0"),a&&(i=t.parentElement),i.parentElement.insertBefore(n,i),n.appendChild(i),t.hasAttribute("alt")){const e=document.createElement("figcaption");e.innerText=t.getAttribute("alt"),n.appendChild(e)}if(!a){n.className="gallery-image";const e=document.createElement("a");e.href=t.src,e.setAttribute("target","_blank"),t.parentNode.insertBefore(e,t),e.appendChild(t)}}const o=e.querySelectorAll("figure.gallery-image");let t=[];for(const e of o)t.length?e.previousElementSibling===t[t.length-1]?t.push(e):t.length&&(n.wrap(t),t=[e]):t=[e];t.length>0&&n.wrap(t)}static wrap(e){const t=document.createElement("div");t.className="gallery";const n=e[0].parentNode,s=e[0];n.insertBefore(t,s);for(const n of e)t.appendChild(n)}open(e){const t=document.querySelector(".pswp"),n=new window.PhotoSwipe(t,window.PhotoSwipeUI_Default,this.items,{index:e,galleryUID:this.galleryUID,getThumbBoundsFn:e=>{const n=this.items[e].el.getElementsByTagName("img")[0],s=window.pageYOffset||document.documentElement.scrollTop,t=n.getBoundingClientRect();return{x:t.left,y:t.top+s,w:t.width}}});n.init()}bindClick(){for(const[e,t]of this.items.entries()){const n=t.el.querySelector("a");n.addEventListener("click",t=>{t.preventDefault(),this.open(e)})}}},w=class{constructor(e,t=null){this._storage=e,this._toggleEl=t,this.bindMatchMedia(),this.dispatchEvent(document.documentElement.dataset.scheme),t&&this.bindClick(),document.body.style.transition==""&&document.body.style.setProperty("transition","background-color .3s ease")}dispatchEvent(e){const t=new CustomEvent("onThemeModeChange",{detail:e});window.dispatchEvent(t)}bindMatchMedia(){window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{e.matches?this._storage.sysPreferMode="dark":this._storage.sysPreferMode="light",this.setBodyClass()})}setBodyClass(){this._storage.isDark()?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light",this.dispatchEvent(document.documentElement.dataset.scheme)}bindClick(){this._toggleEl.addEventListener("click",e=>{this._storage.isDark()?this._storage.themeMode="light":this._storage.themeMode="dark",this.setBodyClass(),this._storage.themeMode==this._storage.sysPreferMode&&(this._storage.themeMode="auto")})}},y=class{constructor(e){this._config=e}init(){e.forEach(document.querySelectorAll(".ibakuman-tabs"),e=>{this.initFoldingFeature(e),this.initCopyFeature(e)})}initFoldingFeature(e){e.querySelector(".ibakuman-toolbar__toggle-open").addEventListener("click",()=>{e.classList.toggle("open")},!1);const t=e.querySelector(".ibakuman-tabs__content");if(t){const n=t.querySelectorAll("pre.chroma > code");let s="";n.length?s=n[n.length-1].innerText:s=t.innerText,(this._config.folding.maxShownLines<0||s.split(`
`).length<this._config.folding.maxShownLines+2)&&e.classList.add("open")}}initCopyFeature(t){if(this._config.code.copyTitle){const n=t.id,s=t.querySelector(".ibakuman-toolbar__copy");s.title=this._config.code.copyTitle,s.setAttribute("data-clipboard-target",`#${n} > input:checked + label + .ibakuman-tabs__content`);const o=new window.ClipboardJS(s);o.on("success",s=>{s.clearSelection();let o=t.querySelectorAll(`#${n} > input:checked + label + .ibakuman-tabs__content pre.chroma > code`);0==o.length?o=t.querySelector(`#${n} > input:checked + label + .ibakuman-tabs__content`):o=o[o.length-1],o&&e.animateCSS(o,["animate__flash"])})}}},l=class{constructor(e){if(this._storage=e,this._themeModeKey="StackColorScheme",this._colorCacheKey="StackColorsCache",this._colorCache={},e.hasOwnProperty(this._themeModeKey)){const t=e.getItem(this._themeModeKey);t=="light"||t=="dark"||t=="auto"?this._themeMode=t:this._themeMode="auto"}if(e.hasOwnProperty(this._colorCacheKey))try{this._colorCache=JSON.parse(e.getItem(this._colorCacheKey))}catch{this._colorCache={}}}get themeMode(){return this._themeMode}set themeMode(e){this._themeMode=e,this._storage.setItem(this._themeModeKey,this._themeMode)}get sysPreferMode(){return this._sysPreferMode}set sysPreferMode(e){this._sysPreferMode=e}isDark(){return this._themeMode=="dark"||this._themeMode=="auto"&&this._sysPreferMode=="dark"}get colorCache(){return this._colorCache}saveColorCache(){this._storage.setItem(this._colorCacheKey,JSON.stringify(this._colorCache))}static newInstance(e){return this.instance||(this.instance=new l(e)),this.instance}},O=class{constructor(e){this._storage=e}init(){if(!window.Vibrant)return;const e=document.querySelector(".article-list--tile");if(e){let t=new IntersectionObserver((e,t)=>a(this,null,function*(){e.forEach(e=>{if(!e.isIntersecting)return;t.unobserve(e.target);const n=e.target.querySelectorAll("article.has-image");n.forEach(e=>a(this,null,function*(){const n=e.querySelector("img"),s=n.src,o=n.getAttribute("data-key"),i=n.getAttribute("data-hash"),a=e.querySelector(".article-details"),t=yield this.getColor(o,i,s);a.style.background=`
                        linear-gradient(0deg,
                            rgba(${t.DarkMuted.rgb[0]}, ${t.DarkMuted.rgb[1]}, ${t.DarkMuted.rgb[2]}, 0.5) 0%,
                            rgba(${t.Vibrant.rgb[0]}, ${t.Vibrant.rgb[1]}, ${t.Vibrant.rgb[2]}, 0.75) 100%)`}))})}));t.observe(e)}}getColor(e,t,n){return a(this,null,function*(){if(!e)return yield window.Vibrant.from(n).getPalette();if(!this._storage.colorCache.hasOwnProperty(e)||this._storage.colorCache[e].hash!==t){const s=yield window.Vibrant.from(n).getPalette();this._storage.colorCache[e]={hash:t,Vibrant:{hex:s.Vibrant.hex,rgb:s.Vibrant.rgb,bodyTextColor:s.Vibrant.bodyTextColor},DarkMuted:{hex:s.DarkMuted.hex,rgb:s.DarkMuted.rgb,bodyTextColor:s.DarkMuted.bodyTextColor}},this._storage.saveColorCache()}return this._storage.colorCache[e]})}};function t(e){let t;return()=>{t&&window.cancelAnimationFrame(t),t=window.requestAnimationFrame(()=>e())}}r=".article-content h1[id], .article-content h2[id], .article-content h3[id], .article-content h4[id], .article-content h5[id], .article-content h6[id]",i="#TableOfContents",o="#TableOfContents li",s="active-class";function g(e,t){let s=e.querySelector("a").offsetHeight,n=e.offsetTop-t.offsetHeight/2+s/2-t.offsetTop;n<0&&(n=0),t.scrollTo({top:n,behavior:"smooth"})}function v(e){const t={};return e.forEach(e=>{const s=e.querySelector("a"),n=s.getAttribute("href");n.startsWith("#")&&(t[n.slice(1)]=e)}),t}function c(e){let t=[];return e.forEach(e=>{t.push({id:e.id,offset:e.offsetTop})}),t.sort((e,t)=>e.offset-t.offset),t}function j(){let e=document.querySelectorAll(r);if(!e){console.warn("No header matched query",e);return}let n=document.querySelector(i);if(!n){console.warn("No toc matched query",i);return}let d=document.querySelectorAll(o);if(!d){console.warn("No navigation matched query",o);return}let u=c(e),l=!1;n.addEventListener("mouseenter",t(()=>l=!0)),n.addEventListener("mouseleave",t(()=>l=!1));let a,m=v(d);function h(){let o=document.documentElement.scrollTop||document.body.scrollTop,t;u.forEach(e=>{o>=e.offset-20&&(t=document.getElementById(e.id))});let e;t&&(e=m[t.id]),t&&!e?console.debug("No link found for section",t):e!==a&&(a&&a.classList.remove(s),e&&(e.classList.add(s),l||g(e,n)),a=e)}window.addEventListener("scroll",t(h));function f(){u=c(e),h()}window.addEventListener("resize",t(f))}h="a[href]";function _(){document.querySelectorAll(h).forEach(e=>{let t=e.getAttribute("href");if(!t.startsWith("#"))return;e.addEventListener("click",t=>{t.preventDefault();const n=decodeURI(e.getAttribute("href").substring(1)),s=document.getElementById(n),o=s.getBoundingClientRect().top-document.documentElement.getBoundingClientRect().top;window.history.pushState({},"",e.getAttribute("href")),scrollTo({top:o,behavior:"smooth"})})})}u=class{constructor(e){this._config=e}init(){this._config.math&&window.renderMathInElement(document.body,this._config.math)}},d=class{constructor(e,t){this.config=e,this.window=t}init(){const t=document.querySelector(".article-content");t&&(new n(t),_(),j());const e=l.newInstance(localStorage),s=new w(e,document.getElementById("dark-mode-toggle"));this.features=[new p,new b(e,this.config),new m,new f(this.config),new y(this.config),new O(e),new u(this.config)];for(const e of this.features)e.init()}},window.addEventListener("load",()=>{setTimeout(function(){new d(window.themeConfig,window).init()},0)}),window.NProgress&&document.addEventListener("readystatechange",()=>{window.NProgress.start(),document.addEventListener("readystatechange",()=>{document.readyState==="interactive"&&window.NProgress.inc(.8),document.readyState==="complete"&&window.NProgress.done()})});function x(e,t){var s=document.createElement(e);for(let e in t)if(e&&t.hasOwnProperty(e)){let n=t[e];e=="dangerouslySetInnerHTML"?s.innerHTML=n.__html:n===!0?s.setAttribute(e,e):n!==!1&&n!=null&&s.setAttribute(e,n.toString())}for(let t=2;t<arguments.length;t++){let e=arguments[t];e&&s.appendChild(e.nodeType==null?document.createTextNode(e.toString()):e)}return s}window.createElement=x})()